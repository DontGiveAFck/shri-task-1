#### Жесты из 2 задания временно не работают т.к. данные карточек приходят с сервера (было реализовано во 4 задании)

# Запуск: <br>
npm i <br>
npm start <br>

Запускается сервер с nodejs(express) с тестовыми потоками

В директории public/ - клиентские файлы <br>
В директории server/ - серверные <br>
В корневой директории server.js <br>

## **Задание 7** - архитектура
Была реализована библиотека, основанная на flux подходе. <br>
Файлы библиотеки находятся здесь: <b>./public/js/lib/arsux </b>

Store и Dispatcher Объединены в один класс - Store. <br>
<b>Принцип работы: </b> <br>
<b>(Все примеры из проекта)</b> <br>
1. Объявляются reducers - функции, которые принимают текущее состояние и событие, возвращают новое (unmutuble) состояние в зависимости от поступившего события. <br>

```    
const reducer = (state, action) => { 
         switch (action.type) {
             case 'OPEN_VIDEO': {
                 store.updateState({
                     ...state,
                     openedVideo: action.payload
                 })
                 break;
             }
             case 'CLOSE_VIDEO': {
                 store.updateState({
                     ...state,
                     [action.payload.videoId]: {
                         brightness: action.payload.brightness,
                         contrast: action.payload.contrast,
                     },
                     openedVideo: false
                 });
                 break;
             }
         }
     };
```

## **Задание 3**
перейти на http://localhost:8000/cameras.html

- Реализованы все обязательные пункты задания и определение освещенности из дополнительных.
- Отлаживал на условно последних браузерах Desktop Chrome, Android Chrome через Chrome dev tools - не возможности постоянно тестировать на моб. устройстве
- Использовал тестовые потоки - перенес их себе в проект.

# Пункты задания:
1. Страница-вкладка в интерфейсе умного дома "Видеонаблюдение"
 - Реализована анимация, которая почти похожа на превью
 - Анимацию реализовать только с использованием безопасных свойств (transform, opacity, filter)
 не получилось - изменял height, но двигал с помощью transfom: translate
 - При открытии видео есть кнопка "Все камеры", которая позволяет показать все видео

2. Фильтры для видео:
 - Реализовал фильтры с помощью css filter()
 
3. Анализатор звука
 - Использовал AudioContext для реализации, рисую на канвасе.
 Для открытия/закрытия нажать "Анализатор громкости" после развертывания видео.
 
4. Уровень освещенности показывается в открытом видео и обновляется каждую секунду.
 
## **Задание 4**


Релизованы все обязательные и дополнительные пункты задания
 
1. GET localhost:8000/status - аптайм сервера в формате hh:mm:ss
2. GET localhost:8000/api/events - отдает содержимое файла events.json (server/files/events.json)
Принимает параметр type, значения info и/или critical (например, localhost:8000/api/events?type=info:critical ивенты с типом info и critical)
Если хоть один тип будет некорректен - вернет ошибку 400.
3. POST localhost:8000/api/events - возвращает тоже самое что и GET, только параметры в теле запроса в формате xxx-url-encoded.
4. Другие роуты (кроме '/' и 'cameras.html' - нужны для реализации пункта 5) возвращают Page not found , code 404.
5. Соединил с версткой из первого задания - при открытии страницы localhost:8080 ajax GET запрос на 'api/events' - в параметрах также можно указывать type, limit, offset.
6. Пагинация на GET запросы параметры - limit и offset, например:
    http://localhost:8000?type=critical&offset=1&limit=1 - вернет критический ивент со сдвигом 1 и пределом 1.
    http://localhost:8000?offset=3&limit=5 - вернет 5 ивентов с любым типом со сдвигом 3.
На POST запросы тоже работает - параметры offset и limit указывать в теле xxx-url-enoceded, можно совмещать с type.
